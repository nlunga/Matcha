<%- include('../partials/header');%>
<h1><%= title %></h1>
<div class="container-fluid bg">
    <div class="row">
        <div class="col-md-4 col-sm-4 col-xs-12"></div>

        <form action="/login" method="POST" name = "myForm" onsubmit="return(validate());" class="form-container" id="Login">
            <h1>Login</h1>
            <p id="errorMSG"></p>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" name="username" class="form-control"id="username" placeholder="Enter your username" value="">
            </div>
            
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" name="password" class="form-control" id="password" placeholder="Enter your password" value="">
            </div>
            
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-lg btn-block" name="login">Login</button>
            </div>
            <p>Don't have an account? <a href="/signup">Sign Up</a><p>
            <span class="psw"><a href="/forgot_password">Forgot Password</a></span>
        </form>
    </div>
</div>
<script type="text/javascript">
    function checkPassword(str){
        // var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\w{6,}$/;
        var re = /^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/;
        return re.test(str);
    }
    function validate(){
        var MSG;
        if(document.myForm.username.value == ""){
            // alert("please provide your username!");
            MSG = ("please provide your username!");
            document.myForm.username.focus();
            document.getElementById("errorMSG").innerHTML = MSG;
            return false;
        }
        if(myForm.password.value != "" ){
            if(!checkPassword(myForm.password.value)){
                // alert("Password must contain numbers, lowercase, uppercase letter and at least six characters");
                MSG =("Password must contain numbers, lowercase, uppercase letter and at least six characters");
                document.myForm.username.focus();
                document.getElementById("errorMSG").innerHTML = MSG;
                // myForm.password.focus();
                return false
            }
        }else{
            // alert("please provide your password!");
            MSG = ("please provide your password!");
            document.myForm.password.focus();
            document.getElementById("errorMSG").innerHTML = MSG;
            // myForm.password.focus();
            return false;
        }
        return true;
    }
    </script>
    <%- include('../partials/footer');%>